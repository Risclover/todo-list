(()=>{"use strict";var e={311:e=>{e.exports=jQuery}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var d=t[o]={exports:{}};return e[o](d,d.exports,n),d.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{let e=[];const t=document.getElementById("new-project-btn"),o=document.querySelector(".app-title");t.addEventListener("click",(function(t){const n={name:t,id:document.getElementById("project-nav").getElementsByTagName("li").length+1,active:!1,theme:{id:"",bgColor:"",fontColor:""},todoArray:[]};console.log(n),e.push(n),function(t){localStorage.setItem("project-list",JSON.stringify(e));const n=document.getElementById("project-nav"),o=document.createElement("li");o.setAttribute("data-key",`project-${t.id}`),o.innerHTML=`\n    <div class="project-nav-name">#<span class="project-num">${t.id}</span>:\n        <span id="project-${t.id}"></span>\n        <input type="text" id="project-${t.id}-input">\n    </div>\n    `,n.append(o);const a=document.getElementById(`project-${t.id}-input`),d=document.getElementById(`project-${t.id}`);a.classList.add("nav-input"),a.style.display="inline-block",d.style.display="none",a.focus(),a.addEventListener("keydown",(function(e){"Enter"===e.key&&(d.textContent=a.value,t.name=a.value,a.style.display="none",d.style.display="inline-block",document.querySelector(".app-title"))}))}(n)})),0===e.length&&function(){const t={name:o.textContent,id:1,active:!0,theme:{id:"Default",bgColor:"#FFFFFF",fontColor:"#000000"},todoArray:[]},n=JSON.parse(localStorage.getItem("todo"));t.todoArray.push(n),e.push(t),console.log(e)}();var a=n(311);(()=>{const e=document.getElementById("todo-input"),t=document.getElementById("submit"),n=document.querySelector(".todo-list"),o=document.getElementById("project-menu"),d=document.querySelector(".project-name"),l=document.querySelector(".app-title"),i=document.getElementById("first-project");o.addEventListener("click",(function(){a("#default").dialog({buttons:[{text:"Restore default",click:function(){a("#default-check").dialog({buttons:[{text:"Continue",click:function(){a(this).dialog("close"),localStorage.clear()}},{text:"Nevermind",click:function(){a(this).dialog("close")}}]}),a(this).dialog("close")}},{text:"Change project theme",click:function(){a(this).dialog("close"),a("#theme").dialog({})}},{text:"Save changes",click:function(){a(this).dialog("close"),renderChanges()}}]})})),d.addEventListener("click",(function(){const e=document.getElementById("new-title");e.style.display="block",l.style.display="none",e.value=l.textContent,e.focus(),e.addEventListener("blur",(function(){l.textContent=e.value,l.style.display="block",e.style.display="none",m()})),e.addEventListener("keydown",(function(t){"Enter"===t.key&&(l.textContent=e.value,l.style.display="block",e.style.display="none",m())}))})),t.addEventListener("click",r),e.addEventListener("keydown",(function(e){"Enter"===e.key&&r()}));let s=[],c="";function r(){const t=e.value.trim();""!==t&&(function(e){const t={text:e,checked:!1,dueDate:"",priority:null,notes:"",project:"Default",id:Date.now()};s.push(t),u(t)}(t),e.value="",e.focus()),console.log(s)}function u(e){localStorage.setItem("todo",JSON.stringify(s));const t=document.querySelector(`[data-key='${e.id}']`);if(e.deleted)return void t.remove();const o=e.checked?"done":"",a=document.createElement("li");a.setAttribute("data-key",e.id),a.setAttribute("class",`flag-high todo-item ${o}`),a.innerHTML=`\n        <div class="total-todo">\n            <div class="left-side">\n                <div class="checkbox">\n                    <input id="${e.id}" type="checkbox" />\n                    <label for="${e.id}" class="tick js-tick"></label>\n                </div>\n                <div class="todo-main">\n                    <span class="js-todo">${e.text}</span>\n                    <input id="${e.id}" type="hidden" />\n                    <div class="todo-extras"></div>\n                </div>\n            </div>\n            <div class="end-buttons">\n                <div class="todo-btns">\n                    <button class="js-delete-todo icon"><i class="fa-regular fa-trash-can js-delete-todo"></i></button>\n                    <button class="js-edit icon"><i class="fa-solid fa-pen-to-square fa-1x"></i></button>\n                </div>\n                <div class="todo-date">${e.dueDate}</div>\n            </div>\n        </div>\n        `,t?n.replaceChild(a,t):n.append(a),document.querySelectorAll(".todo-extras").forEach((e=>{const t=e.parentElement.parentElement.parentElement.parentElement.dataset.key,n=s.findIndex((e=>e.id===Number(t)));e.innerHTML=`<span>${s[n].notes}</span>`,""===s[n].notes?e.classList.add("hide"):e.classList.remove("hide")}))}function m(){c=l.textContent,i.textContent=c,localStorage.setItem("project-name",JSON.stringify(c))}n.addEventListener("click",(e=>{if(e.target.classList.contains("js-tick")&&function(e){const t=s.findIndex((t=>t.id===Number(e)));s[t].checked=!s[t].checked,u(s[t])}(e.target.parentElement.parentElement.parentElement.parentElement.dataset.key),e.target.classList.contains("js-delete-todo")&&function(e){const t=s.findIndex((t=>t.id===Number(e))),n={deleted:!0,...s[t]};console.log(n),confirm("Are you sure you want to delete this todo item?")&&(s=s.filter((t=>t.id!==Number(e))),u(n))}(e.target.parentElement.parentElement.parentElement.parentElement.dataset.key),e.target.classList.contains("todo-main")){const t=e.target.parentElement.parentElement;e.target.children[1].focus()&&(t.style.backgroundColor="#f0f0f0d7");const n=e.target.parentElement.parentElement.parentElement.dataset.key,o=e.target.children[1],a=e.target.children[0];o.addEventListener("focus",(e=>{e.target.parentElement.parentElement.parentElement.style.backgroundColor="#f7f7f7d7"})),a.classList.add("hide"),o.classList.add("newinput"),o.classList.add("show"),o.classList.remove("hide"),o.setAttribute("type","text"),o.focus(),o.value=a.textContent,o.addEventListener("keydown",(function(e){if("Enter"===e.key){const e=s.findIndex((e=>e.id===Number(n)));a.textContent=o.value,s[e].text=o.value,o.classList.remove("show"),o.classList.add("hide"),a.classList.remove("hide"),u(s[e])}})),o.addEventListener("blur",(function(e){const t=s.findIndex((e=>e.id===Number(n)));a.textContent=o.value,s[t].text=o.value,o.classList.remove("show"),o.classList.add("hide"),a.classList.remove("hide"),u(s[t])}))}if(e.target.classList.contains("js-edit")){const t=document.querySelector("#todo-text"),n=document.createElement("span");n.classList.add("invalid-red"),a(".invalid-red").text("");const o=e.target.parentElement.parentElement.parentElement.parentElement.dataset.key,d=s.findIndex((e=>e.id===Number(o))),l=document.getElementById("todo-notes"),i=document.getElementById("datepicker"),c=document.getElementById("todo-text"),r=document.getElementById("todo-priority"),m=e.target.parentElement.parentElement.parentElement.parentElement.children[0].children[0].children[1].children[0];c.value=m.textContent,r.value=s[d].priority,i.value=s[d].dueDate,l.value=s[d].notes,console.log(s[d]),a("#dialog").dialog({buttons:[{text:"Save",click:function(){a(".invalid-red").remove(),a(".ui-dialog-buttonpane").append(n),m.textContent=c.value,s[d].text=m.textContent,s[d].priority=r.value,s[d].dueDate=i.value,s[d].notes=l.value;const o=e.target.parentElement.parentElement.parentElement.parentElement.children[0].children[0].children[1].children[2];o.innerHTML=`<span>${s[d].notes}</span>`,""===l.value?o.classList.add("hide"):o.classList.remove("hide"),u(s[d]),""===t.value?a(".invalid-red").text("Error: Can't leave title blank."):""!==t.value&&(a(".invalid-red").remove(),a(this).dialog("close"))}}]})}})),a("#datepicker").datepicker(),a(".sortable").sortable(),document.addEventListener("DOMContentLoaded",(function(){const e=localStorage.getItem("todo");e&&(s=JSON.parse(e),s.forEach((e=>{u(e)})));const t=localStorage.getItem("project-name");t&&(c=JSON.parse(t),console.log(c),l.textContent=c,m())}))})();var d=n(311),l=n.n(d);window.jQuery=l(),window.$=l()})()})();